<!DOCTYPE html>
<html lang="hr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Misija: MateSfera</title>
    <style>
        /* Font Lexend */
        @import url('https://fonts.googleapis.com/css2?family=Lexend:wght@400;600;800&display=swap');

        body {
            margin: 0;
            padding: 0;
            font-family: 'Lexend', sans-serif;
            background: radial-gradient(circle at center, #273c75 0%, #192a56 100%);
            height: 100vh;
            height: 100dvh;
            /* Better for mobile browsers */
            width: 100vw;
            overflow: hidden;
            /* Pozadina se ne skrola */
            display: flex;
            justify-content: center;
            align-items: center;
            color: #f5f6fa;
        }

        /* Pozadinske zvijezde */
        .stars {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 200%;
            background-image:
                radial-gradient(white, rgba(255, 255, 255, .2) 2px, transparent 3px),
                radial-gradient(white, rgba(255, 255, 255, .1) 2px, transparent 3px);
            background-size: 550px 550px, 350px 350px;
            animation: moveStars 100s linear infinite;
            z-index: 0;
            opacity: 0.6;
        }

        @keyframes moveStars {
            from {
                transform: translateY(0);
            }

            to {
                transform: translateY(-50%);
            }
        }

        /* --- GLAVNI KONTEJNER (Prozor) --- */
        .app-container {
            position: relative;
            z-index: 10;
            display: flex;
            flex-direction: column;
            align-items: center;
            /* Space-between gura elemente, ali ako nema mjesta, flex-start je sigurniji uz scroll */
            justify-content: flex-start;

            /* --- MOBITEL POSTAVKE --- */
            width: 90%;
            max-width: 450px;

            /* Visina: */
            max-height: 90vh;
            /* Ne ide do samog ruba ekrana */
            overflow-y: auto;
            /* KLJUƒåNO: Omoguƒáuje skrolanje unutar kartice ako gumb ne stane */

            /* Padding: Gore/Lijevo/Desno 25px, Dolje 35px (da gumb ne dira rub) */
            padding: 25px 25px 35px 25px;
            box-sizing: border-box;

            background: rgba(0, 0, 0, 0.3);
            border-radius: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);

            /* Sakrij scrollbar ali omoguƒái skrolanje */
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .app-container::-webkit-scrollbar {
            display: none;
        }

        /* --- SADR≈ΩAJ --- */
        .content-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            flex-shrink: 0;
            /* Sprjeƒçava skupljanje sadr≈æaja */
        }

        /* --- DESKTOP I TABLET PRILAGODBA --- */
        @media (min-width: 768px) {
            .app-container {
                width: 85%;
                max-width: 850px !important;
                padding: 50px;
                /* Veƒái padding na desktopu */

                background: rgba(0, 0, 0, 0.4);
                box-shadow: 0 30px 60px rgba(0, 0, 0, 0.6);
                justify-content: center;
                /* Centriraj vertikalno na velikom ekranu */
                overflow-y: visible;
                /* Na desktopu obiƒçno ne treba scroll */
            }

            .content-wrapper {
                flex-direction: row !important;
                justify-content: space-between;
                align-items: center;
                gap: 40px;
                margin-bottom: 0;
                /* Reset margine */
            }

            .header {
                text-align: left !important;
                flex: 1.2;
            }

            .title {
                font-size: 3rem !important;
                text-align: left;
            }

            .mission-text-box {
                max-height: none !important;
                font-size: 1rem !important;
                background: rgba(255, 255, 255, 0.05) !important;
                border: none !important;
            }

            .visual-side {
                flex: 0.8;
                display: flex;
                flex-direction: column;
                /* Raketa iznad gumba na desnoj strani */
                justify-content: center;
                align-items: center;
            }

            .rocket-svg {
                width: 200px !important;
                margin: 0 0 30px 0 !important;
            }

            .btn-launch {
                max-width: 350px;
                font-size: 1.6rem !important;
                padding: 22px !important;
                margin-top: 0 !important;
            }
        }

        /* --- STILOVI ELEMENATA --- */

        .header {
            width: 100%;
            text-align: center;
            margin-bottom: 10px;
        }

        .title {
            font-size: 1.8rem;
            text-transform: uppercase;
            color: #fbc531;
            text-shadow: 3px 3px 0 rgba(0, 0, 0, 0.4);
            margin: 0 0 10px 0;
            line-height: 1.1;
        }

        .mission-text-box {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 15px;
            text-align: left;
            font-size: 0.85rem;
            line-height: 1.4;
            color: #dcdde1;
            /* Scroll na malim ekranima unutar teksta */
            max-height: 180px;
            overflow-y: auto;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.2);
        }

        .mission-text-box p {
            margin: 0 0 8px 0;
        }

        .mission-text-box strong {
            color: #fff;
        }

        .visual-side {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 100%;
        }

        .rocket-svg {
            width: 70px;
            height: auto;
            animation: float 3s ease-in-out infinite, rumble 0.2s linear infinite;
            filter: drop-shadow(0 15px 20px rgba(0, 0, 0, 0.4));
            margin: 10px 0;
            overflow: visible;
            flex-shrink: 0;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-15px);
            }
        }

        @keyframes rumble {
            0% {
                margin-left: -1px;
            }

            50% {
                margin-left: 1px;
            }
        }

        .flame {
            transform-origin: center top;
            animation: flicker 0.1s infinite alternate;
        }

        @keyframes flicker {
            from {
                transform: scaleY(1);
                opacity: 0.8;
            }

            to {
                transform: scaleY(1.3);
                opacity: 1;
            }
        }

        .btn-launch {
            background: linear-gradient(to bottom, #e84118, #c23616);
            color: white;
            width: 100%;
            padding: 18px;
            border: none;
            border-radius: 20px;
            font-family: 'Lexend', sans-serif;
            font-size: 1.3rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 2px;
            cursor: pointer;
            box-shadow: 0 6px 0 #8c270d, 0 15px 30px rgba(0, 0, 0, 0.3);
            transition: all 0.2s;
            position: relative;
            top: 0;
            margin-top: 10px;
            flex-shrink: 0;
            /* Gumb se ne smije smanjiti */
        }

        .btn-launch:active {
            top: 6px;
            box-shadow: 0 0 0 #8c270d;
        }
    </style>
</head>

<body>

    <div class="stars"></div>

    <div class="app-container">

        <div class="content-wrapper">
            <!-- LIJEVA STRANA / GORNJI DIO -->
            <div class="header">
                <h1 class="title">Misija:<br>MateSfera</h1>

                <div class="mission-text-box">
                    <p><strong>Dobrodo≈°ao u MateSferu!</strong> üë®‚ÄçüöÄ</p>
                    <p>Tvoja misija poƒçinje sada. Bira≈° gdje ≈æeli≈° zapoƒçeti:</p>
                    <p>ü™ê <strong>Planet brojeva:</strong> zadaci brojanja i zbrajanja.</p>
                    <p>üåå <strong>Galaksija misli:</strong> izazovi za pamƒáenje i logiku.</p>
                    <p style="margin-bottom: 0;">Zapoƒçni misiju uƒçenja!</p>
                </div>
            </div>

            <!-- DESNA STRANA / SREDNJI DIO -->
            <div class="visual-side">
                <svg class="rocket-svg" viewBox="0 0 100 250">
                    <path class="flame" d="M35 150 Q50 190 65 150 L50 140 Z" fill="#fbc531" />
                    <path class="flame" d="M40 150 Q50 180 60 150 L50 140 Z" fill="#e84118"
                        style="animation-delay: 0.05s;" />
                    <path d="M20 120 L10 150 L35 140 Z" fill="#c23616" stroke="#2f3640" stroke-width="2" />
                    <path d="M80 120 L90 150 L65 140 Z" fill="#c23616" stroke="#2f3640" stroke-width="2" />
                    <ellipse cx="50" cy="90" rx="30" ry="60" fill="#ecf0f1" stroke="#2f3640" stroke-width="2" />
                    <path d="M26 60 Q50 10 74 60 Z" fill="#e84118" stroke="#2f3640" stroke-width="2" />
                    <circle cx="50" cy="80" r="15" fill="#00a8ff" stroke="#2f3640" stroke-width="2" />
                    <circle cx="55" cy="75" r="4" fill="white" opacity="0.6" />
                    <circle cx="50" cy="110" r="2" fill="#bdc3c7" />
                    <circle cx="50" cy="125" r="2" fill="#bdc3c7" />
                </svg>

                <button class="btn-launch" id="launchBtn">
                    LANSIRAJ üöÄ
                </button>
            </div>
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const btn = document.getElementById('launchBtn');

            if (btn) {
                // Handle both click and touchstart for better responsiveness on mobile
                // Use a flag to prevent double-firing
                let isLaunching = false;

                const handleLaunch = function (e) {
                    if (e.type === 'touchstart') {
                        e.preventDefault(); // Prevent ghost clicks
                    }

                    if (isLaunching) return;

                    launchSequence(btn);
                    isLaunching = true;

                    // Reset flag when animation is conceptually done (after 4.4s approx)
                    // 3 * 800ms = 2400ms + 2000ms timeout = 4400ms
                    setTimeout(() => {
                        isLaunching = false;
                    }, 4500);
                };

                btn.addEventListener('click', handleLaunch);
                btn.addEventListener('touchstart', handleLaunch, { passive: false });
            }
        });

        function launchSequence(btn) {
            let count = 3;

            btn.style.pointerEvents = "none";
            btn.style.background = "#44bd32";
            btn.style.boxShadow = "0 6px 0 #218c74";
            btn.innerHTML = "3...";

            const timer = setInterval(() => {
                count--;
                if (count > 0) {
                    btn.innerHTML = count + "...";
                } else {
                    clearInterval(timer);
                    btn.innerHTML = "POLIJETANJE! üí®";

                    setTimeout(() => {
                        window.location.href = 'choice.html';
                    }, 2000);
                }
            }, 800);
        }
    </script>
</body>

</html>